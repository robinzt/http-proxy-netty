plugins {
    id 'java-library'
    id 'maven-publish'
}

group = 'com.skywing.proxy'
version = '1.0.0'

sourceCompatibility = 1.8
targetCompatibility = 1.8
[compileJava,compileTestJava,javadoc]*.options*.encoding = 'UTF-8'

// In this section you declare where to find the dependencies of your project
repositories {
    mavenCentral()
}

dependencies {
    compileOnly 'org.projectlombok:lombok:1.18.12'
    annotationProcessor 'org.projectlombok:lombok:1.18.12'

    implementation 'io.netty:netty-all:4.1.54.Final'
    implementation 'org.slf4j:slf4j-api:1.7.26'

    // Use JUnit test framework
    testImplementation 'junit:junit:4.12'
    testImplementation 'ch.qos.logback:logback-classic:1.2.3'
}

jar {
    enabled = true
    into("META-INF/maven/$project.group/$project.name") {
        from { generatePomFileForMavenJavaPublication }
        rename ".*", "pom.xml"
    }
}

publishing {
    publications {
        mavenJava(MavenPublication) {
            from components.java
        }
    }

//    repositories {
//        maven {
//            name = 'myRepo'
//            url = "file://${buildDir}/repo"
//        }
//    }
}



